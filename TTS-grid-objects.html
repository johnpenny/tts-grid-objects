<!DOCTYPE html>
<html>
	<head>
		<title>Tabletop Simulator - Grid Objects</title>
	</head>
	<body>
		<pre id="output"></pre>
	</body>
	<script>
		var itemName = prompt("What named objects do you want to grid?","Card");
		var output = document.getElementById('output');
		
		var pad = 0;
		
		var xi = -15,
			dxi = xi,
			ixi =- xi,
			zi = 12,
			dzi = zi;
			
		save = prompt("1) Paste your save file content here\n2) Override your save with the output\n3) Load the save within the game", "");
		var obj = JSON.parse(save);
		
		Object.keys(obj.ObjectStates).forEach(function (el,i,arr) {
			if (obj.ObjectStates[i]['Name'] == itemName){
				obj.ObjectStates[i]['Locked'] = false;
				obj.ObjectStates[i]['Transform']['rotX'] = 0;
				obj.ObjectStates[i]['Transform']['rotY'] = 180;
				obj.ObjectStates[i]['Transform']['rotZ'] = 180;
				obj.ObjectStates[i]['Transform']['posY'] = 1;
				obj.ObjectStates[i]['Transform']['posX'] = xi;
				obj.ObjectStates[i]['Transform']['posZ'] = zi;
				
				if (xi > ixi){
					zi -=4 + pad;
					xi = dxi;
				}
				else {
					xi += 3 + pad;
				};
				
			}
		});
		
		output.innerHTML = JSON.stringify(obj, null, 4);
				
	</script>
</html>